<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:cbb.ui">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="../../../App.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <!-- Style for individual item for list view. -->
    <Style x:Key="FamilyItemControlStyle" TargetType="{x:Type ContentControl}">

        <Setter Property="Template">
            <Setter.Value>

                <ControlTemplate TargetType="{x:Type ContentControl}">

                    <!-- Content of the indivdual item in list view. -->
                    <Border BorderBrush="{StaticResource MainBordersBrush}"
                            BorderThickness="1">

                        <!-- Main background of the control. -->
                        <Grid x:Name="container"
                              Background="{StaticResource MainBackgroundBrush}">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--名称 Name of the item. -->
                            <TextBlock Text="{Binding Name}"
                                       TextTrimming="CharacterEllipsis"
                                       Foreground="{StaticResource OrangeFontBrush}"
                                       FontFamily="{StaticResource OpenSansLite}"
                                       Grid.Row="0"
                                       FontSize="{StaticResource RegularFontSize}" />

                            <!--路径 Full path to the item file. -->
                            <TextBlock Text="{Binding FullPath}"
                                       TextTrimming="CharacterEllipsis"
                                       Foreground="{StaticResource GrayFontBrush}"
                                       FontFamily="{StaticResource OpenSansLite}"
                                       Grid.Row="1"
                                       FontSize="{StaticResource SmallFontSize}" />

                            <!--类型 Type indicator bar. -->
                            <Grid Grid.Row="2">

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- 用颜色表示类型 Type indicator color. -->
                                <Border Grid.Column="0"
                                        Background="{Binding Type, Converter={StaticResource ItemTypeToColor}}"
                                        CornerRadius="1"
                                        Height="2.5" />
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Routed events. -->
                    <ControlTemplate.Triggers>

                        <!-- Change background color when mouse hover over control. -->
                        <EventTrigger RoutedEvent="MouseEnter">
                            <BeginStoryboard>
                                <Storyboard>
                                    <ColorAnimation To="{StaticResource MainLightBackground}"
                                                    Duration="0:0:0.3"
                                                    Storyboard.TargetName="container"
                                                    Storyboard.TargetProperty="Background.Color" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>

                        <!-- Change background color when mouse leave control. -->
                        <EventTrigger RoutedEvent="MouseLeave">
                            <BeginStoryboard>
                                <Storyboard>
                                    <ColorAnimation To="{StaticResource MainBackground}"
                                                    Duration="0:0:0.3"
                                                    Storyboard.TargetName="container"
                                                    Storyboard.TargetProperty="Background.Color" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>